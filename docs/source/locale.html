<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>locale module &mdash; FluentAnvil 1.2.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="message module" href="message.html" />
    <link rel="prev" title="fluent module" href="fluent.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            FluentAnvil
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">FluentAnvil User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#credits">Credits</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Api Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fluent.html">fluent module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">locale module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fluent_anvil.locale.Locale"><code class="docutils literal notranslate"><span class="pre">Locale</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.__init__"><code class="docutils literal notranslate"><span class="pre">Locale.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.auto"><code class="docutils literal notranslate"><span class="pre">Locale.auto()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.clean"><code class="docutils literal notranslate"><span class="pre">Locale.clean()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.compose"><code class="docutils literal notranslate"><span class="pre">Locale.compose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.decompose"><code class="docutils literal notranslate"><span class="pre">Locale.decompose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.match"><code class="docutils literal notranslate"><span class="pre">Locale.match()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.preferred"><code class="docutils literal notranslate"><span class="pre">Locale.preferred()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.select"><code class="docutils literal notranslate"><span class="pre">Locale.select()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.fallback"><code class="docutils literal notranslate"><span class="pre">Locale.fallback</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.index_url"><code class="docutils literal notranslate"><span class="pre">Locale.index_url</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.max_distance"><code class="docutils literal notranslate"><span class="pre">Locale.max_distance</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluent_anvil.locale.Locale.requested"><code class="docutils literal notranslate"><span class="pre">Locale.requested</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="message.html">message module</a></li>
<li class="toctree-l2"><a class="reference internal" href="text.html">text module</a></li>
<li class="toctree-l2"><a class="reference internal" href="validators.html">validators module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FluentAnvil</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">client_code</a></li>
      <li class="breadcrumb-item active">locale module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/source/locale.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-fluent_anvil.locale">
<span id="locale-module"></span><h1>locale module<a class="headerlink" href="#module-fluent_anvil.locale" title="Permalink to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fluent_anvil.locale.</span></span><span class="sig-name descname"><span class="pre">Locale</span></span><a class="headerlink" href="#fluent_anvil.locale.Locale" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Models a locale and its fallbacks.</p>
<p>The Locale class is a list. As such it can contain one primary locale at index 0 and
multiple fallback locales at the following indices.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fluent_anvil.locale.Locale.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.auto">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">auto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fluent_anvil.locale.Locale.auto" title="Permalink to this definition"></a></dt>
<dd><p>Automatically select the most preferable locales for the user.</p>
<p>Selects the most preferable locales for the user that are currently available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_url</strong> – The URL to the index.lst file containing a list of all available
locales (one locale per line). If not given, the default index.lst
file will be used.</p></li>
<li><p><strong>fallback</strong> – The locale to use if the operation fails. If not given, the
default fallback locale will be used.</p></li>
<li><p><strong>count</strong> – The maximum number of fallback locales to use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.clean">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">clean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locale</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fluent_anvil.locale.Locale.clean" title="Permalink to this definition"></a></dt>
<dd><p>Ensure valid IETF language tags.</p>
<p>Since Anvil does not support hyphens for directories, users may use an
underscore for the locale names as well. However, this would not be valid IETF
language tags. Therefore, replace any underscores with hyphens. The JavaScript
library will switch to underscore again when loading the assets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>locale</strong> – String or iterable of locale strings, e.g., “en-US”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.compose">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">components</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fluent_anvil.locale.Locale.compose" title="Permalink to this definition"></a></dt>
<dd><p>Create a locale given a pattern and its components.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.decompose">
<span class="sig-name descname"><span class="pre">decompose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#fluent_anvil.locale.Locale.decompose" title="Permalink to this definition"></a></dt>
<dd><p>Decompose the locale or one of its fallbacks into its components.</p>
<p>Decompose the locale (index = 0) or one of its fallbacks (index &gt; 0) into its
components. Returns a dictionary which contains the locale’s components as keys
and the corresponding values as dictionary values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.match">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">requested</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">available</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_py</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fluent_anvil.locale.Locale.match" title="Permalink to this definition"></a></dt>
<dd><p>For the given requested locales, return the best matching available locales.</p>
<p>Given a list of requested locales and locales available (i.e. those supported by
the application), the method returns an ordered list of available locales that
best fit any of the requested locales. The first locale in the returned list is
the one with the best fit. If there is no sensible match, the fallback is
returned (e.g., the application’s primary / best supported language or a widely
spoken locale like English).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>requested</strong> – A single locale or a list of locales that the user prefers.</p></li>
<li><p><strong>available</strong> – A list of locales that the application supports. If not given,
the default index.lst file will be used.</p></li>
<li><p><strong>fallback</strong> – The locale to return if no sensible match is found. If not given,
the default fallback locale will be used.</p></li>
<li><p><strong>count</strong> – The maximum number of fallback locales to use.</p></li>
<li><p><strong>force_py</strong> – Force the use of the Python implementation of the matching
algorithm instead of the JavaScript one.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.preferred">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">preferred</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fallback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#fluent_anvil.locale.Locale.preferred" title="Permalink to this definition"></a></dt>
<dd><p>Return the user’s preferred locales.</p>
<p>Uses the Get-User-Locale library <a class="reference external" href="https://github.com/wojtekmaj/get-user-locale">https://github.com/wojtekmaj/get-user-locale</a> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fallback</strong> – The fallback locale to return if operation fails. If not given,
the default fallback locale will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.select">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">available</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fluent_anvil.locale.Locale.select" title="Permalink to this definition"></a></dt>
<dd><p>Select the user’s most preferred locale given the available locales.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>available</strong> – List of locales available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.fallback">
<span class="sig-name descname"><span class="pre">fallback</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'en'</span></em><a class="headerlink" href="#fluent_anvil.locale.Locale.fallback" title="Permalink to this definition"></a></dt>
<dd><p>The default fallback locale to use if no other locale is found.</p>
<p>The value will be modified automatically whenever fluent instance is reconfigured.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.index_url">
<span class="sig-name descname"><span class="pre">index_url</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'./_/theme/localization/index.lst'</span></em><a class="headerlink" href="#fluent_anvil.locale.Locale.index_url" title="Permalink to this definition"></a></dt>
<dd><p>The default URL to the index.lst file that contains all available locales.</p>
<p>The value will be modified automatically whenever fluent instance is reconfigured.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.max_distance">
<span class="sig-name descname"><span class="pre">max_distance</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#fluent_anvil.locale.Locale.max_distance" title="Permalink to this definition"></a></dt>
<dd><p>Maximum matching distance between requested locale and available locales.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fluent_anvil.locale.Locale.requested">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">requested</span></span><a class="headerlink" href="#fluent_anvil.locale.Locale.requested" title="Permalink to this definition"></a></dt>
<dd><p>Return the locales that were originally requested.</p>
<p>This is useful if the localization .ftl files are switched and the
originally requested locales shall be matched against the new .ftl
files again.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fluent.html" class="btn btn-neutral float-left" title="fluent module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="message.html" class="btn btn-neutral float-right" title="message module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Marcus Wörner.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>